<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarvis AI Assistant</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="styles.css"> <!-- Link to your custom CSS file -->
</head>
<body class="robotic"> <!-- Set default class for the robotic theme -->
    <div class="container mt-5">
        <h1 class="text-center">Welcome to Jarvis AI Assistant</h1>
        
        <button id="start" class="btn btn-success btn-block">Start Listening</button>
        <p id="response" class="response text-center"></p>

        <h2 class="mt-4">Task Scheduler</h2>
        <div class="form-group">
            <input id="taskDescription" class="form-control" placeholder="Task Description">
        </div>
        <div class="form-group">
            <input id="taskTime" class="form-control" type="datetime-local">
        </div>
        <button id="scheduleTask" class="btn btn-primary btn-block">Schedule Task</button>
        <button id="cancelTask" class="btn btn-danger btn-block">Cancel Task</button>
        <p id="taskResponse" class="response text-center"></p>

        <h2 class="mt-4">Theme Switcher</h2>
        <select id="theme-select" class="form-control">
            <option value="robotic">Robotic</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
        </select>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        const startButton = document.getElementById('start');
        const responseParagraph = document.getElementById('response');
        const taskDescriptionInput = document.getElementById('taskDescription');
        const taskTimeInput = document.getElementById('taskTime');
        const taskResponseParagraph = document.getElementById('taskResponse');

        startButton.addEventListener('click', () => {
            // Existing audio recording logic...
        });

        socket.on('response', (data) => {
            responseParagraph.textContent = data;
        });

        socket.on('error', (errorMessage) => {
            responseParagraph.textContent = errorMessage;
        });

        document.getElementById('scheduleTask').addEventListener('click', () => {
            const description = taskDescriptionInput.value;
            const time = new Date(taskTimeInput.value).toISOString();
            socket.emit('scheduleTask', { time, description });
        });

        document.getElementById('cancelTask').addEventListener('click', () => {
            const description = taskDescriptionInput.value;
            socket.emit('cancelTask', description);
        });

        socket.on('taskResponse', (data) => {
            taskResponseParagraph.textContent = data;
        });

        document.getElementById('theme-select').addEventListener('change', (event) => {
            document.body.className = event.target.value; // Change body class to the selected theme
        });
    </script>
</body>
</html>
